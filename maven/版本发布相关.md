#### 一、版本发布

因为是阿里云云效仓库，所以需要进行相关配置

首先在 .m2/setting.xml 中进行如下配置

```xml

<servers>
        <server>
            <id>rdc-releases</id>
            <username>************************</username>
            <password>************</password>
        </server>
        <server>
            <id>rdc-snapshots</id>
            <username>************************</username>
            <password>*************</password>
        </server>
    </servers>



    <profiles>
        <profile>
            <id>rdc</id>
            <properties>
                <altReleaseDeploymentRepository>
        rdc-releases::default::https://packages.aliyun.com/maven/repository/************/
                </altReleaseDeploymentRepository>
                <altSnapshotDeploymentRepository>
        rdc-snapshots::default::https://packages.aliyun.com/maven/repository/***********/
                </altSnapshotDeploymentRepository>
            </properties>
        </profile>
    </profiles>

    <activeProfiles>
        <activeProfile>rdc</activeProfile>
    </activeProfiles>

```

在项目根目录下的 pom.xml 文件中进行如下配置

```xml

<distributionManagement>
        <repository>
            <id>nexus-releases</id>
            <url>
                https://packages.aliyun.com/maven/repository/**********************
            </url>
        </repository>
        <snapshotRepository>
            <id>nexus-snapshots</id>
            <url>
                https://packages.aliyun.com/maven/repository/**********************
            </url>
        </snapshotRepository>
    </distributionManagement>

```

进行以下操作即可发布版本

``mvn clean install org.apache.maven.plugins:maven-deploy-plugin:2.8:deploy -DskipTests ``

或者

``mvn deploy -P release``
 

#### 二、版本修改
首先需要在``pom.xml``配置插件

```xml

 <build>
        <plugins>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>versions-maven-plugin</artifactId>
                <version>2.7</version>
            </plugin>
        </plugins>
    </build>
```

1. 设置新版本``versions:set -DnewVersion=0.0.2-SNAPSHOT `` 此时会产生旧版本的备份文件
2. 回滚至旧版本``mvn versions:revert`` 如果出现问题可以进行回滚
3. 提交新版本``mvn versions:commit`` 删除旧版本的备份文件


以上方法还不够完善，还有很大完善的空间

相关资料

[scm标签](https://blog.csdn.net/weixin_34128501/article/details/90218815)
