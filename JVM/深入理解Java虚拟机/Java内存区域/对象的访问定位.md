# 对象的访问定位

建立对象是为了使用对象，Java 程序通过栈上的 reference 来操作堆上的具体对象。由于 reference 类型在 Java 虚拟机规范中只规定了一个指向对象的引用，并没有定义这个引用如何去定位、范根堆中对象的具体位置，所以对象的访问形式也是取决于虚拟机的实现而定的。

目前主流的访问方式有两种方式

* 通过句柄池访问
* 通过指针访问



## 通过句柄池访问

Java 堆中将会划分出一块内存作为句柄池，reference 中存储的就是对象的句柄地址，而句柄中包含了对象实例数据与类型数据各自具体的地址信息。(分别在堆和方法去中



## 通过指针进行访问

如果通过指针进行访问，那么 Java 堆中对象的布局必须考虑如何存放访问类型数据的相关信息，reference 中存放的就是对象的具体地址



这两种方式各有优势

使用句柄来访问的最大好处就是 reference 中存储的稳定的句柄地址，在对象被移动（垃圾收集时移动对象是非常普遍的行为）时智慧改变句柄池中实例数据指针，而 reference 并不需要被改变。

使用直接指针进行访问的优势是速度更快些，节省了一次指针定位的时间开销，由于对象的访问在 Java 中非常频繁，因此这类开销在积少成多后也是一项显著耗时的执行成本。